{
  "title": "Key Operations - CH Query",
  "description": "",
  "tags": [],
  "widgets": [
    {
      "description": "",
      "id": "3bf7b9d9-8179-4eb7-9699-549cac53c7a4",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          {
            "disabled": false,
            "legend": "{{name}}",
            "name": "A",
            "rawQuery": "SELECT\n    quantile(0.5)(durationNano) as p50,\n    name,\n    toDateTime(toStartOfMinute(timestamp)) AS ts\nFROM signoz_traces.signoz_index_v2\nWHERE serviceName={{.service_name}}\n  AND timestamp>=toDateTime(intDiv({{.SIGNOZ_START_TIME}}, 1000))\n  AND timestamp<=toDateTime(intDiv({{.SIGNOZ_END_TIME}}, 1000))\nGROUP BY name,ts\nORDER BY p50 DESC\nLIMIT 100"
          }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "",
              "metricName": null,
              "name": "A",
              "reduceTo": 1,
              "tagFilters": { "items": [], "op": "AND" }
            }
          ]
        },
        "promQL": [
          { "disabled": false, "legend": "", "name": "A", "query": "" }
        ],
        "queryType": 2
      },
      "queryData": {
        "data": {
          "queryData": [
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET /dispatch" },
              "queryName": "A",
              "values": [
                [1669096740, "732008500"],
                [1669096920, "729552000"],
                [1669097760, "728874000"],
                [1669096560, "728431000"],
                [1669096980, "728420000"],
                [1669097940, "727353000"],
                [1669096860, "725212000"],
                [1669098180, "725047000"],
                [1669097460, "722410000"],
                [1669098000, "718683000"],
                [1669097700, "718672000"],
                [1669097640, "718356000"],
                [1669096680, "715835500"],
                [1669096800, "714866000"],
                [1669097520, "714693500"],
                [1669097400, "714690000"],
                [1669097580, "713564000"],
                [1669098120, "713310500"],
                [1669097880, "710817000"],
                [1669098060, "710297000"],
                [1669097820, "709057000"],
                [1669097340, "708916000"],
                [1669097100, "708636000"],
                [1669097220, "705801000"],
                [1669097160, "704881000"],
                [1669098300, "704497500"],
                [1669098240, "701578000"],
                [1669096620, "700819000"],
                [1669097280, "698125000"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET: /customer" },
              "queryName": "A",
              "values": [
                [1669097940, "328315000"],
                [1669097460, "327867000"],
                [1669097700, "323742000"],
                [1669098000, "323235000"],
                [1669098180, "323054000"],
                [1669097760, "322221000"],
                [1669097520, "319993000"],
                [1669096560, "319033000"],
                [1669096980, "318838500"],
                [1669096740, "318787500"],
                [1669096920, "317894000"],
                [1669097640, "316869000"],
                [1669097400, "316393000"],
                [1669097880, "313889000"],
                [1669097820, "312228000"],
                [1669097160, "311516000"],
                [1669097100, "311480000"],
                [1669096680, "311462000"],
                [1669096800, "310609500"],
                [1669098300, "310000500"],
                [1669098120, "309373500"],
                [1669097580, "309360000"],
                [1669097340, "309050000"],
                [1669096860, "308039000"],
                [1669098060, "307150000"],
                [1669097220, "306889000"],
                [1669097280, "302322000"],
                [1669098240, "299080000"],
                [1669096620, "299024000"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "/driver.DriverService/FindNearest" },
              "queryName": "A",
              "values": [
                [1669096740, "208845000"],
                [1669098120, "208448000"],
                [1669097220, "208416000"],
                [1669097400, "208228000"],
                [1669098060, "208081500"],
                [1669098240, "207974000"],
                [1669097460, "207782000"],
                [1669096680, "207569000"],
                [1669097940, "207366000"],
                [1669097520, "206975000"],
                [1669098300, "206374000"],
                [1669097280, "206076000"],
                [1669098180, "205951000"],
                [1669096800, "205906000"],
                [1669097640, "205728000"],
                [1669096560, "205545000"],
                [1669097700, "205520500"],
                [1669097100, "205508000"],
                [1669096620, "205251500"],
                [1669097580, "205023500"],
                [1669096860, "204859500"],
                [1669097820, "204792000"],
                [1669098000, "204727000"],
                [1669097880, "204726000"],
                [1669096920, "204664500"],
                [1669097760, "203450000"],
                [1669097040, "202914000"],
                [1669097160, "202334000"],
                [1669096980, "202057000"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET" },
              "queryName": "A",
              "values": [
                [1669096680, "53980500"],
                [1669096860, "53882000"],
                [1669097760, "53869000"],
                [1669098300, "53821500"],
                [1669097580, "53686000"],
                [1669097220, "53532000"],
                [1669098000, "53523500"],
                [1669097280, "53503000"],
                [1669097100, "53435500"]
              ]
            }
          ]
        },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "P50",
      "yAxisUnit": "ns"
    },
    {
      "description": "",
      "id": "92135524-32c7-4b80-84bc-de87e99573cc",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          {
            "disabled": false,
            "legend": "{{name}}",
            "name": "A",
            "rawQuery": "SELECT\n    quantile(0.95)(durationNano) as p95,\n    name,\n    toDateTime(toStartOfMinute(timestamp)) AS ts\nFROM signoz_traces.signoz_index_v2\nWHERE serviceName={{.service_name}}\n  AND timestamp>=toDateTime(intDiv({{.SIGNOZ_START_TIME}}, 1000))\n  AND timestamp<=toDateTime(intDiv({{.SIGNOZ_END_TIME}}, 1000))\nGROUP BY name,ts\nORDER BY p95 DESC\nLIMIT 100"
          }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "",
              "metricName": null,
              "name": "A",
              "reduceTo": 1,
              "tagFilters": { "items": [], "op": "AND" }
            }
          ]
        },
        "promQL": [
          { "disabled": false, "legend": "", "name": "A", "query": "" }
        ],
        "queryType": 2
      },
      "queryData": {
        "data": {
          "queryData": [
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET /dispatch" },
              "queryName": "A",
              "values": [
                [1669097760, "1112136199.9999998"],
                [1669097640, "1109749000"],
                [1669097940, "1051228099.9999998"],
                [1669098060, "1050765399.9999999"],
                [1669096980, "1007498450"],
                [1669097460, "1007089350"],
                [1669098180, "1006002500"],
                [1669097520, "998615250"],
                [1669098420, "986866400"],
                [1669097700, "972971800"],
                [1669098360, "961008800"],
                [1669098480, "952220149.9999999"],
                [1669097880, "945735000"],
                [1669097580, "941341000"],
                [1669097400, "928489400"],
                [1669097160, "922865699.9999999"],
                [1669097280, "908790799.9999999"],
                [1669098000, "902234700"],
                [1669098540, "899502500"],
                [1669098600, "899481999.9999996"],
                [1669097220, "878459399.9999999"],
                [1669097340, "862565499.9999999"],
                [1669097820, "858475400"],
                [1669098240, "852877300"],
                [1669098300, "833013300"],
                [1669098720, "826085750"],
                [1669098660, "815847399.9999999"],
                [1669098120, "804381100"],
                [1669097100, "799163200"],
                [1669096920, "787169950"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET: /customer" },
              "queryName": "A",
              "values": [
                [1669097640, "741077000"],
                [1669097760, "709659399.9999998"],
                [1669098060, "678574400"],
                [1669097940, "659930899.9999998"],
                [1669097460, "616494499.9999999"],
                [1669096980, "610316099.9999998"],
                [1669098180, "592708250"],
                [1669097520, "587799000"],
                [1669098420, "587372400"],
                [1669098360, "561340450"],
                [1669097580, "559627000"],
                [1669097700, "552366399.9999998"],
                [1669098480, "551496299.9999996"],
                [1669097160, "541451100"],
                [1669097880, "537677800"],
                [1669097280, "526945199.9999999"],
                [1669097400, "525093199.99999994"],
                [1669098600, "506386399.99999964"],
                [1669098540, "505594000"],
                [1669098000, "494197400"],
                [1669097340, "473186199.99999994"],
                [1669097820, "456182399.9999999"],
                [1669098240, "454205799.9999999"],
                [1669098720, "444339149.9999999"],
                [1669097220, "438440799.99999994"],
                [1669098300, "432564799.99999994"],
                [1669098120, "417996300"],
                [1669098660, "416993600"],
                [1669096920, "397253699.99999994"],
                [1669097100, "389726000"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET" },
              "queryName": "A",
              "values": [
                [1669097040, "321823799.99999994"],
                [1669097700, "320589499.9999999"],
                [1669098180, "319515250"],
                [1669098000, "316348349.9999999"],
                [1669098420, "316263750"],
                [1669097460, "315761949.99999994"],
                [1669096980, "313408099.9999999"],
                [1669097760, "312869000"],
                [1669097640, "311242500"],
                [1669098600, "310407400.00000006"],
                [1669098360, "309020250"],
                [1669097400, "308822800"],
                [1669097820, "307891549.9999999"],
                [1669097580, "306716600"],
                [1669097520, "306709000"],
                [1669097100, "306509549.9999999"],
                [1669098060, "305560400"],
                [1669097220, "305460699.99999994"],
                [1669098540, "305092000"],
                [1669097160, "304631349.99999946"],
                [1669098120, "302992050"],
                [1669098720, "302660149.99999994"],
                [1669097880, "302660099.9999999"],
                [1669098300, "301493100.00000006"],
                [1669097340, "300810000.00000006"],
                [1669098480, "299850700"],
                [1669097280, "295797899.99999976"],
                [1669098660, "295654600"],
                [1669098240, "295079299.9999999"],
                [1669096920, "274770699.9999999"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "/driver.DriverService/FindNearest" },
              "queryName": "A",
              "values": [
                [1669097760, "237888250"],
                [1669097340, "237520499.99999997"],
                [1669098000, "237410400"],
                [1669098240, "237099400"],
                [1669097520, "236925500"],
                [1669097280, "236337000"]
              ]
            }
          ]
        },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "P95",
      "yAxisUnit": "ns"
    },
    {
      "description": "",
      "id": "63cf8af5-e3af-4dd4-85be-e0fd4d756433",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          {
            "disabled": false,
            "legend": "{{name}}",
            "name": "A",
            "rawQuery": "SELECT\n    quantile(0.99)(durationNano) as p99,\n    name,\n    toDateTime(toStartOfMinute(timestamp)) AS ts\nFROM signoz_traces.signoz_index_v2\nWHERE serviceName={{.service_name}}\n  AND timestamp>=toDateTime(intDiv({{.SIGNOZ_START_TIME}}, 1000))\n  AND timestamp<=toDateTime(intDiv({{.SIGNOZ_END_TIME}}, 1000))\nGROUP BY name,ts\nORDER BY p99 DESC\nLIMIT 100"
          }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "",
              "metricName": null,
              "name": "A",
              "reduceTo": 1,
              "tagFilters": { "items": [], "op": "AND" }
            }
          ]
        },
        "promQL": [
          { "disabled": false, "legend": "", "name": "A", "query": "" }
        ],
        "queryType": 2
      },
      "queryData": {
        "data": {
          "queryData": [
            {
              "queryName": "A",
              "metric": { "name": "/driver.DriverService/FindNearest" },
              "values": [
                [1669120200, "247861100"],
                [1669118700, "247214919.99999994"],
                [1669119660, "246639400"],
                [1669120080, "244307040"],
                [1669119120, "242873040"],
                [1669120380, "241987500"],
                [1669120140, "241719570"],
                [1669120020, "241557280"],
                [1669119480, "241326520"]
              ],
              "legend": "{{name}}"
            },
            {
              "queryName": "A",
              "metric": { "name": "HTTP GET /dispatch" },
              "values": [
                [1669119420, "1512180659.9999993"],
                [1669119000, "1271850450.0000005"],
                [1669119180, "1254862620"],
                [1669119240, "1228320799.9999998"],
                [1669120260, "1211104240"],
                [1669119360, "1202764479.9999995"],
                [1669119600, "1175858519.9999995"],
                [1669120200, "1168121760"],
                [1669120440, "1130288159.9999995"],
                [1669119780, "1120870600.0000002"],
                [1669120320, "1119215080"],
                [1669118760, "1116489040"],
                [1669120020, "1113955940.0000002"],
                [1669118880, "1108667040"],
                [1669120380, "1093548400.0000002"],
                [1669119300, "1068066359.9999998"],
                [1669119960, "1066964179.9999999"],
                [1669118820, "1052202800"],
                [1669119720, "1046215500.0000002"],
                [1669120080, "1022926470"],
                [1669119900, "1015038050"],
                [1669120140, "1008648420"],
                [1669119540, "992844620"],
                [1669119120, "979177040"],
                [1669119660, "974566450"],
                [1669118700, "972678960"],
                [1669119840, "955581060"],
                [1669118940, "950846580.0000001"],
                [1669119060, "925318120"]
              ],
              "legend": "{{name}}"
            },
            {
              "queryName": "A",
              "metric": { "name": "HTTP GET: /customer" },
              "values": [
                [1669119420, "1112326879.999999"],
                [1669119180, "867199700"],
                [1669119000, "856104650.0000004"],
                [1669119240, "822967199.9999998"],
                [1669120260, "807809379.9999999"],
                [1669119360, "780095319.9999996"],
                [1669120200, "772949540.0000001"],
                [1669119600, "754191319.9999995"],
                [1669118760, "741119300"],
                [1669120440, "734542679.9999999"],
                [1669120020, "730391080.0000002"],
                [1669120320, "711797799.9999998"],
                [1669120380, "707373850.0000001"],
                [1669119780, "706593980.0000002"],
                [1669118880, "688151079.9999998"],
                [1669119960, "685277050"],
                [1669118820, "653748600"],
                [1669119300, "643532440"],
                [1669120080, "629876750"],
                [1669119720, "609528300.0000002"],
                [1669119540, "600271980"],
                [1669119660, "600261100"],
                [1669119120, "595874640"],
                [1669119900, "592148100"],
                [1669120140, "586093320"],
                [1669118700, "576868800"],
                [1669118940, "565944180.0000001"],
                [1669119840, "557001360"],
                [1669119060, "529439319.9999998"]
              ],
              "legend": "{{name}}"
            },
            {
              "queryName": "A",
              "metric": { "name": "HTTP GET" },
              "values": [
                [1669119180, "595830480.0000005"],
                [1669119420, "575876999.9999992"],
                [1669118820, "570303879.999999"],
                [1669120260, "551472580.0000006"],
                [1669118760, "546816549.9999998"],
                [1669118880, "535471840.00000024"],
                [1669120020, "533235440.0000008"],
                [1669119600, "532214129.99999905"],
                [1669119780, "521272000.0000005"],
                [1669120380, "513263850.0000001"],
                [1669119960, "503374549.9999999"],
                [1669120320, "503137980.0000005"],
                [1669119360, "499083349.99999934"],
                [1669118700, "494617750"],
                [1669119720, "491191600.00000054"],
                [1669119120, "484836520"],
                [1669120200, "484748320.0000013"],
                [1669119000, "479395719.99999964"],
                [1669120140, "463414440"],
                [1669120080, "454536919.99999964"],
                [1669119240, "449277200.0000001"],
                [1669120440, "434610669.99999917"],
                [1669119300, "426569280"],
                [1669119900, "423013750"],
                [1669119540, "414681159.999997"],
                [1669119840, "402438680.00000066"],
                [1669119660, "393976279.9999986"],
                [1669118940, "356213320.00000006"],
                [1669119060, "345809769.9999998"]
              ],
              "legend": "{{name}}"
            }
          ]
        },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "P99",
      "yAxisUnit": "ns"
    },
    {
      "description": "",
      "id": "fca6be8d-2e3b-499e-9612-291340741f53",
      "isStacked": false,
      "nullZeroValues": "zero",
      "opacity": "1",
      "panelTypes": "TIME_SERIES",
      "query": {
        "clickHouse": [
          {
            "disabled": false,
            "legend": "{{name}}",
            "name": "A",
            "rawQuery": "SELECT\n    toFloat64(COUNT(*)) as numCalls,\n    name,\n    toDateTime(toStartOfMinute(timestamp)) AS ts\nFROM signoz_traces.signoz_index_v2\nWHERE serviceName={{.service_name}}\n  AND timestamp>=toDateTime(intDiv({{.SIGNOZ_START_TIME}}, 1000))\n  AND timestamp<=toDateTime(intDiv({{.SIGNOZ_END_TIME}}, 1000))\nGROUP BY name,ts\nORDER BY numCalls DESC\nLIMIT 100"
          }
        ],
        "metricsBuilder": {
          "formulas": [],
          "queryBuilder": [
            {
              "aggregateOperator": 1,
              "disabled": false,
              "groupBy": [],
              "legend": "",
              "metricName": null,
              "name": "A",
              "reduceTo": 1,
              "tagFilters": { "items": [], "op": "AND" }
            }
          ]
        },
        "promQL": [
          { "disabled": false, "legend": "", "name": "A", "query": "" }
        ],
        "queryType": 2
      },
      "queryData": {
        "data": {
          "queryData": [
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET /dispatch" },
              "queryName": "A",
              "values": [
                [1669098360, "60"],
                [1669098300, "59"],
                [1669097160, "59"],
                [1669097340, "59"],
                [1669097760, "59"],
                [1669098600, "59"],
                [1669098120, "58"],
                [1669098000, "58"],
                [1669098780, "58"],
                [1669097880, "57"],
                [1669098720, "57"],
                [1669098420, "57"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET: /customer" },
              "queryName": "A",
              "values": [
                [1669098360, "60"],
                [1669097160, "59"],
                [1669098600, "59"],
                [1669098300, "59"],
                [1669097340, "59"],
                [1669097760, "59"],
                [1669098120, "58"],
                [1669098780, "58"],
                [1669098000, "58"],
                [1669097820, "57"],
                [1669097280, "57"],
                [1669097700, "57"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET" },
              "queryName": "A",
              "values": [
                [1669097760, "669"],
                [1669098360, "666"],
                [1669097160, "652"],
                [1669097340, "649"],
                [1669098000, "648"],
                [1669098300, "639"],
                [1669098600, "639"],
                [1669097880, "632"],
                [1669098120, "628"],
                [1669098720, "627"],
                [1669098840, "627"],
                [1669097280, "627"],
                [1669098420, "626"],
                [1669098180, "626"],
                [1669097520, "626"],
                [1669098780, "624"],
                [1669097820, "622"],
                [1669098240, "615"],
                [1669097700, "607"],
                [1669098660, "605"],
                [1669098480, "599"],
                [1669097460, "598"],
                [1669097940, "595"],
                [1669097580, "594"],
                [1669097220, "583"],
                [1669098060, "573"],
                [1669097400, "569"],
                [1669098540, "561"],
                [1669098900, "245"],
                [1669097100, "195"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "HTTP GET: /route" },
              "queryName": "A",
              "values": [
                [1669097640, "610"],
                [1669098360, "606"],
                [1669097160, "593"],
                [1669098000, "590"],
                [1669097340, "590"],
                [1669098300, "580"],
                [1669098600, "580"],
                [1669097880, "575"],
                [1669098840, "572"],
                [1669098120, "570"],
                [1669098720, "570"],
                [1669097520, "570"],
                [1669098180, "570"],
                [1669097280, "570"],
                [1669098420, "569"],
                [1669098780, "566"],
                [1669097820, "565"],
                [1669098240, "560"],
                [1669097700, "550"],
                [1669098660, "550"],
                [1669098480, "545"],
                [1669097460, "544"],
                [1669097580, "540"],
                [1669097940, "540"],
                [1669097220, "530"],
                [1669098060, "520"],
                [1669097400, "516"],
                [1669098540, "510"],
                [1669098900, "222"],
                [1669097100, "177"]
              ]
            },
            {
              "legend": "{{name}}",
              "metric": { "name": "/driver.DriverService/FindNearest" },
              "queryName": "A",
              "values": [
                [1669098360, "60"],
                [1669097760, "60"],
                [1669097160, "59"],
                [1669098300, "59"],
                [1669097340, "59"],
                [1669098600, "58"],
                [1669098120, "58"],
                [1669098000, "58"],
                [1669098780, "57"],
                [1669097280, "57"],
                [1669098180, "57"]
              ]
            }
          ]
        },
        "error": false,
        "errorMessage": "",
        "loading": false
      },
      "timePreferance": "GLOBAL_TIME",
      "title": "Number of Calls",
      "yAxisUnit": "none"
    }
  ],
  "variables": {
    "service_name": {
      "allSelected": false,
      "customValue": "",
      "description": "",
      "modificationUUID": "b149b7e5-0342-47b2-aa23-62be9db78019",
      "multiSelect": false,
      "name": "service_name",
      "queryValue": "SELECT DISTINCT JSONExtractString(labels, 'service_name')\nFROM signoz_metrics.time_series_v2\nWHERE metric_name = 'signoz_calls_total'",
      "selectedValue": "",
      "showALLOption": false,
      "sort": "ASC",
      "textboxValue": "",
      "type": "QUERY"
    }
  },
  "layout": [
    {
      "w": 6,
      "h": 4,
      "x": 6,
      "y": 4,
      "i": "fca6be8d-2e3b-499e-9612-291340741f53",
      "moved": false,
      "static": false
    },
    {
      "w": 6,
      "h": 4,
      "x": 0,
      "y": 4,
      "i": "63cf8af5-e3af-4dd4-85be-e0fd4d756433",
      "moved": false,
      "static": false
    },
    {
      "w": 6,
      "h": 4,
      "x": 6,
      "y": 0,
      "i": "92135524-32c7-4b80-84bc-de87e99573cc",
      "moved": false,
      "static": false
    },
    {
      "w": 6,
      "h": 4,
      "x": 0,
      "y": 0,
      "i": "3bf7b9d9-8179-4eb7-9699-549cac53c7a4",
      "moved": false,
      "static": false
    }
  ]
}
